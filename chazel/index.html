<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Chazel</title>
	<script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
	<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Poiret+One">
	<link rel="stylesheet" href="http://fonts.googleapis.com/earlyaccess/cwtexhei.css">
	<link rel="stylesheet" href="http://fonts.googleapis.com/earlyaccess/cwtexming.css">
	<link rel="stylesheet" href="./css/reset.css">
	<link rel="stylesheet" href="./css/style.css">
</head>

<body id="top">

<div id="go-back">
	<button onclick="goBack()">回前頁</button>
</div>

<div id="outer-wrapper">
	<header>
		<div><!-- for flex layout -->
			<h1>Chazel</h1>
			<span>「我是塞車之神，你也是塞車之神，這座島上的所有人，都是塞車之神。」</span>
		</div>
	</header>
	<!-- end header -->

	<nav id="nav">
		<ul>
			<li><a href="#novel">長篇小說 - 泣城</a></li>
			<li><a href="#short-story">短篇小說</a></li>
			<li><a href="#flash-fiction">極短篇小說</a></li>
			<li><a href="#footer">關於我們</a></li>
		</ul>
	</nav>
	<!-- end nav -->

	<nav id="nav-fixed">
		<span><a href="#top">Chazel</a></span>
		<ul>
			<li><a href="#novel">長篇小說 - 泣城</a></li>
			<li><a href="#short-story">短篇小說</a></li>
			<li><a href="#flash-fiction">極短篇小說</a></li>
			<li><a href="#footer">關於我們</a></li>
		</ul>
	</nav>
	<!-- end nav-fixed -->

	<div id="main-wrapper">
		<div id="summary-wrapper">
			<section>
				<h2>長篇小說 - 泣城</h2>
				<button id="tab-chapter-2" onclick="activeTab(2)" class="btn btn-active">掠食之章</button>
				<button id="tab-chapter-1" onclick="activeTab(1)" class="btn">豢養之章（完結）</button>

				<div id="latest-novel-wrapper">
					<div class="latest-novel-col latest-novel-col-1">
						<div id="latest-novel-cover" class="cover"></div>
					</div>
					<div class="latest-novel-col latest-novel-col-2">
						<span>最新一回</span>
						<h3 id="latest-novel-title">讀取中...</h3>
						<p id="latest-novel-content">讀取中...</p>
					</div>
					<div id="select-chapter">
						<button class="btn" onclick="novelSection.show()">顯示其他章節</button>
					</div>
				</div>
				<!-- end latest-novel-wrapper -->

				<div id="novel-wrapper">
					<div class="grid">
						<div id="novel-1-cover" class="cover"></div>
						<span id="novel-1-category" class="category">讀取中...</span>
						<h3 id="novel-1-title">讀取中...</h3>
						<p id="novel-1-content">讀取中...</p>
					</div>
					<div class="grid">
						<div id="novel-2-cover" class="cover"></div>
						<span id="novel-2-category" class="category">讀取中...</span>
						<h3 id="novel-2-title">讀取中...</h3>
						<p id="novel-2-content">讀取中...</p>
					</div>
					<div class="grid grid-last">
						<div id="novel-3-cover" class="cover"></div>
						<span id="novel-3-category" class="category">讀取中...</span>
						<h3 id="novel-3-title">讀取中...</h3>
						<p id="novel-3-content">讀取中...</p>
					</div>
					<div class="clear"></div>
					<div id="novel-paging" class="paging"></div>
				</div>
				<!-- end novel-wrapper -->
			</section>

			<section id="short-story">
				<h2>短篇小說</h2>
				<div class="grid">
					<div id="short-story-1-cover" class="cover"></div>
					<span id="short-story-1-category" class="category">讀取中...</span>
					<h3 id="short-story-1-title">讀取中...</h3>
					<p id="short-story-1-content">讀取中...</p>
				</div>
				<div class="grid">
					<div id="short-story-2-cover" class="cover"></div>
					<span id="short-story-2-category" class="category">讀取中...</span>
					<h3 id="short-story-2-title">讀取中...</h3>
					<p id="short-story-2-content">讀取中...</p>
				</div>
				<div class="grid grid-last">
					<div id="short-story-3-cover" class="cover"></div>
					<span id="short-story-3-category" class="category">讀取中...</span>
					<h3 id="short-story-3-title">讀取中...</h3>
					<p id="short-story-3-content">讀取中...</p>
				</div>
				<div class="clear"></div>
				<div id="short-story-paging" class="paging"></div>
			</section>
			<!-- end short-story -->
			
			<section id="flash-fiction" class="no-border">
				<h2>極短篇小說</h2>
				<div class="grid">
					<div id="flash-fiction-1-cover" class="cover"></div>
					<span id="flash-fiction-1-category" class="category">讀取中...</span>
					<h3 id="flash-fiction-1-title">讀取中...</h3>
					<p id="flash-fiction-1-content">讀取中...</p>
				</div>
				<div class="grid">
					<div id="flash-fiction-2-cover" class="cover"></div>
					<span id="flash-fiction-2-category" class="category">讀取中...</span>
					<h3 id="flash-fiction-2-title">讀取中...</h3>
					<p id="flash-fiction-2-content">讀取中...</p>
				</div>
				<div class="grid grid-last">
					<div id="flash-fiction-3-cover" class="cover"></div>
					<span id="flash-fiction-3-category" class="category">讀取中...</span>
					<h3 id="flash-fiction-3-title">讀取中...</h3>
					<p id="flash-fiction-3-content">讀取中...</p>
				</div>
				<div class="clear"></div>
				<div id="flash-fiction-paging" class="paging"></div>
			</section>
			<!-- end flash-fiction -->
		</div>
		<!-- end summary-wrapper -->

		<section id="reading-area" class="no-border">
			<h2 id="reading-area-title">讀取中...</h2>
			<div id="reading-area-content" class="reading-col reading-col-1">
				<!--
					content will be inserted here
				-->
				<div id="disqus_thread"></div><!-- should be added first, or it will have some error -->
			</div>
			<div id="sub-col" class="reading-col reading-col-2">
				<div class="sub-row">
					<span>字體大小</span>
					<button id="font-size-btn-1" class="btn reading-setting-btn" onclick="setFontSize(1)">小</button>
					<button id="font-size-btn-2" class="btn btn-active reading-setting-btn" onclick="setFontSize(2)">中</button>
					<button id="font-size-btn-3" class="btn reading-setting-btn" onclick="setFontSize(3)">大</button>
				</div>
				<div class="sub-row">
					<span>行距</span>
					<button id="line-height-btn-1" class="btn reading-setting-btn" onclick="setLineHeight(1)">小</button>
					<button id="line-height-btn-2" class="btn btn-active reading-setting-btn" onclick="setLineHeight(2)">中</button>
					<button id="line-height-btn-3" class="btn reading-setting-btn" onclick="setLineHeight(3)">大</button>
				</div>
				<div class="sub-row">
					<div id="prev" class="btn sub-btn" onclick="prevFunc()">
						<span>上一篇</span>
						<h3 id="prev-article-title">讀取中...</h3>
					</div>
					<div id="next" class="btn sub-btn" onclick="nextFunc()">
						<span>下一篇</span>
						<h3 id="next-article-title">讀取中...</h3>
					</div>
				</div>
			</div>
		</section>
		<!-- end section reading -->
	</div>
	<!-- end main-wrapper -->
</div>
<!-- end outer-wrapper -->

<footer id="footer">
	<div id="footer-wrapper">
		<span>關於我們</span>
		<div class="footer-col">
			<a href="https://www.facebook.com/profile.php?id=100000969435591" target="_blank">
				<img src="./img/footer/chazel.jpg" alt="關於我們 - 陳建佐 Chazel">
			</a>
			<div>
				<span class="name">陳建佐 Chazel</span>
				<span class="description">想要寫關於鯨魚的故事。</span>
			</div>
		</div>
		<div class="footer-col">
			<a href="https://www.facebook.com/ryan.chen.0" target="_blank">
				<img src="./img/footer/ryan.jpg" alt="關於我們 - 陳柏翰 Ryan">
			</a>
			<div>
				<span class="name">陳柏翰 Ryan</span>
				<span class="description">陪襯的小小綠葉。</span>
			</div>
		</div>
		<div class="clear"></div>
	</div>
</footer>

<script>
for(var articleNum={novel:[21,10],shortStory:2,flashFiction:4},pageNum={novel:[],shortStory:Math.ceil(articleNum.shortStory/3),flashFiction:Math.ceil(articleNum.flashFiction/3)},novelChapterNum=articleNum.novel.length,i=0;i<novelChapterNum;i++)pageNum.novel[i]=Math.ceil(articleNum.novel[i]/3);$.ajaxSetup({cache:!1});function goBack(){$("#go-back").hide();$("#reading-area").hide();$("html,body").scrollTop();$("#summary-wrapper").show()}var nav=document.getElementById("nav"),navFixed=document.getElementById("nav-fixed");
function handleNav(){-50>nav.getBoundingClientRect().top?(navFixed.style.transition="top 0s, opacity 0.5s",navFixed.style.top="0",navFixed.style.opacity=1):(navFixed.style.transition="top 0s 0.5s, opacity 0.5s",navFixed.style.top="-9999px",navFixed.style.opacity=0)}window.addEventListener("scroll",function(){handleNav()},!1);
$(document).ready(function(){$('a[href*="#"]:not([href="#"])').click(function(){$("#reading-area").hide();$("#summary-wrapper").show();if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash),a=a.length?a:$("[name="+this.hash.slice(1)+"]");if(a.length)return $("html,body").animate({scrollTop:a.offset().top-80},800),$("#go-back").hide(),!1}})});var activeChapter=novelChapterNum;
function activeTab(a){for(var c=1;c<=novelChapterNum;c++){var b=document.getElementById("tab-chapter-"+c);b.className=b.className.replace(/ btn-active/g,"")}document.getElementById("tab-chapter-"+a).className+=" btn-active";loadLatestChapterArticle(a);deployPagingBtn("novel",a);loadSummary("novel",a,1);activeChapter=a}
function loadLatestChapterArticle(a){$("#latest-novel-title").html("\u8b80\u53d6\u4e2d...");$("#latest-novel-content").html("\u8b80\u53d6\u4e2d...");$.get("http://eightdonuts.github.io/chazel/text/novel/chapter-"+a+"/"+articleNum.novel[a-1],function(c){c=c.split("\n");$("#latest-novel-cover").css({background:"url('./img/cover/novel/"+c[0]+"') center center",backgroundSize:"cover"}).unbind().click(function(){readArticle("novel",a,articleNum.novel[a-1])});$("#latest-novel-title").html(c[1]).unbind().click(function(){readArticle("novel",
a,articleNum.novel[a-1])});$("#latest-novel-content").html(c[2].replace(/<br>/g,"").replace(/\u3000/g,"").substring(0,120)+"...")})}var novelSection={show:function(){$("#latest-novel-wrapper").hide();$("#novel-wrapper").show()},hide:function(){$("#novel-wrapper").hide();$("#latest-novel-wrapper").show()}};
function loadSummary(a,c,b){var e,d;switch(a){case "novel":e=articleNum.novel[c-1];break;case "short-story":e=articleNum.shortStory;break;case "flash-fiction":e=articleNum.flashFiction}d=Math.ceil(e/3);for(var f=1;f<=d;f++)$("#"+a+"-paging-btn-"+f).removeClass("btn-active");$("#"+a+"-paging-btn-"+b).addClass("btn-active");for(d=1;3>=d;d++){f=e-3*(b-1)-d+1;if(0>=f){for(b=d;3>=b;b++)deployArticleSummary(a,c,b,0);break}$("#"+a+"-"+d+"-title").html("\u8b80\u53d6\u4e2d...");$("#"+a+"-"+d+"-content").html("\u8b80\u53d6\u4e2d...");
deployArticleSummary(a,c,d,f)}}
function deployArticleSummary(a,c,b,e){0==e?($("#"+a+"-"+b+"-cover").css("background-image","none"),$("#"+a+"-"+b+"-category").html(""),$("#"+a+"-"+b+"-title").html(""),$("#"+a+"-"+b+"-content").html("")):$.get(("novel"==a?"http://eightdonuts.github.io/chazel/text/novel/chapter-"+c+"/":"http://eightdonuts.github.io/chazel/text/"+a+"/")+e,function(d){d=d.split("\n");$("#"+a+"-"+b+"-cover").css({background:"url('./img/cover/"+a+"/"+d[0]+"') center center",backgroundSize:"cover"}).unbind().click(function(){readArticle(a,c,
e)});switch(a){case "novel":$("#"+a+"-"+b+"-category").html("\u9577\u7bc7\u5c0f\u8aaa");break;case "short-story":$("#"+a+"-"+b+"-category").html("\u77ed\u7bc7\u5c0f\u8aaa");break;case "flash-fiction":$("#"+a+"-"+b+"-category").html("\u6975\u77ed\u7bc7\u5c0f\u8aaa")}$("#"+a+"-"+b+"-title").html(d[1]).unbind().click(function(){readArticle(a,null,e)});$("#"+a+"-"+b+"-content").html(d[2].replace(/<br>/g,"").replace(/\u3000/g,"").substring(0,120)+"...")})}
function deployPagingBtn(a,c){var b,e=[];switch(a){case "novel":b=pageNum.novel[c-1];break;case "short-story":b=pageNum.shortStory;break;case "flash-fiction":b=pageNum.flashFiction}for(var d=1;d<=b;d++)e.push('<button id="'+a+"-paging-btn-"+d+'" class="btn" onclick="loadSummary(\''+a+"', "+c+", "+d+')">'+d+"</button>");"novel"==a&&e.push('<button class="btn" onclick="novelSection.hide()">\u986f\u793a\u6700\u65b0\u4e00\u56de</button>');$("#"+a+"-paging").html(e.join(""))}var prevFunc,nextFunc;
function readArticle(a,c,b){$("#summary-wrapper").hide();$("html,body").scrollTop();$("#go-back").show();$("#reading-area").show();$("#reading-area-title").html("\u8b80\u53d6\u4e2d...");$("#reading-area-content").html('<div id="disqus_thread"></div>');resetDisqus(a,c,b);var e;e="novel"==a?"http://eightdonuts.github.io/chazel/text/novel/chapter-"+c+"/":"http://eightdonuts.github.io/chazel/text/"+a+"/";$.get(e+b,function(a){a=a.split("\n");$("#reading-area-title").html(a[1]);$("<div>"+a[2]+"</div>").insertBefore("#disqus_thread")});
$("#prev-article-title").html("\u8b80\u53d6\u4e2d...");$("#next-article-title").html("\u8b80\u53d6\u4e2d...");1<b?($.get(e+(b-1),function(d){$("#prev-article-title").html(d.split("\n")[1]);prevFunc=function(){readArticle(a,c,b-1)}}),$("#prev").show()):$("#prev").hide();b<articleNum?($.get(src+(b+1),function(d){$("#next-article-title").html(d.split("\n")[1]);nextFunc=function(){readArticle(a,c,b+1)}}),$("#next").show()):$("#next").hide()}var readingSetting={fontSize:[14,16,20],lineHeight:[1.6,2,2.4]};
function setFontSize(a){for(var c=1;3>=c;c++){var b=document.getElementById("font-size-btn-"+c);b.className=b.className.replace(/ btn-active/g,"")}document.getElementById("font-size-btn-"+a).className+=" btn-active";$("#reading-area-content").css("font-size",readingSetting.fontSize[a-1]+"px")}
function setLineHeight(a){for(var c=1;3>=c;c++){var b=document.getElementById("line-height-btn-"+c);b.className=b.className.replace(/ btn-active/g,"")}document.getElementById("line-height-btn-"+a).className+=" btn-active";$("#reading-area-content").css("line-height",readingSetting.lineHeight[a-1])}var disqus_config=function(){this.page.url="http://eightdonuts.github.io/chazel/";this.page.identifier="home"};
(function(){var a=document,c=a.createElement("script");c.src="http://chazeldisqus.disqus.com/embed.js";c.setAttribute("data-timestamp",+new Date);(a.head||a.body).appendChild(c)})();function resetDisqus(a,c,b){var e;e=null==c?a+"__"+b:a+"__"+c+"__"+b;DISQUS.reset({reload:!0,config:function(){this.page.url="http://eightdonuts.github.io/chazel/#!"+e;this.page.identifier=e}})}loadLatestChapterArticle(novelChapterNum);deployPagingBtn("short-story",null);loadSummary("short-story",null,1);
deployPagingBtn("flash-fiction",null);loadSummary("flash-fiction",null,1);
</script>
</body>
</html>